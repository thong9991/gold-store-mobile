import 'dart:math';

import 'package:firebase_messaging/firebase_messaging.dart';
import 'package:firebase_storage/firebase_storage.dart';
import 'package:firebase_core/firebase_core.dart';
import 'package:flutter_bloc/flutter_bloc.dart';
import 'package:flutter_web_plugins/url_strategy.dart';
import 'package:flutter/services.dart';
import 'package:flutter_secure_storage/flutter_secure_storage.dart';
import 'package:hive/hive.dart';
import 'package:internet_connection_checker_plus/internet_connection_checker_plus.dart';
import 'package:path_provider/path_provider.dart';
import 'package:shared_preferences/shared_preferences.dart';

import 'app_prefs.dart';
import 'core/common/cubits/app_gold_price/app_gold_price_cubit.dart';
import 'core/common/cubits/app_profile/app_profile_cubit.dart';
import 'core/common/cubits/app_user/app_user_cubit.dart';
import 'core/network/api_service.dart';
import 'core/network/connection_checker.dart';
import 'core/network/dio_factory.dart';
import 'features/auth/data/repositories/auth_repository_impl.dart';
import 'features/auth/domain/repositories/auth_repository.dart';
import 'features/auth/domain/usecases/bind_token.dart';
import 'features/auth/domain/usecases/user_login.dart';
import 'features/auth/domain/usecases/user_register.dart';
import 'features/auth/presentation/bloc/auth_bloc.dart';
import 'features/contact/data/repositories/contact_repository_impl.dart';
import 'features/contact/domain/repositories/contact_repository.dart';
import 'features/contact/domain/usecases/create_contact.dart';
import 'features/contact/domain/usecases/delete_contact.dart';
import 'features/contact/domain/usecases/load_contacts.dart';
import 'features/contact/domain/usecases/load_search_data.dart';
import 'features/contact/domain/usecases/search_contacts.dart';
import 'features/contact/domain/usecases/update_contact.dart';
import 'features/contact/presentation/bloc/contact_bloc.dart';
import 'features/gold_price/data/repositories/gold_price_repository_impl.dart';
import 'features/gold_price/data/repositories/notification_repository_impl.dart';
import 'features/gold_price/domain/repositories/gold_price_repository.dart';
import 'features/gold_price/domain/repositories/notification_repository.dart';
import 'features/gold_price/domain/usecases/create_notification.dart';
import 'features/gold_price/domain/usecases/load_gold_prices.dart';
import 'features/gold_price/domain/usecases/update_gold_prices.dart';
import 'features/gold_price/presentation/bloc/gold_price_bloc.dart';
import 'features/home/data/repositories/profile_repository_impl.dart';
import 'features/home/domain/repositories/profile_repository.dart';
import 'features/home/domain/usecases/load_profile.dart';
import 'features/home/presentation/bloc/home_bloc.dart';
import 'features/order/data/datasources/product_local_data_source_impl.dart';
import 'features/order/data/repositories/order_repository_impl.dart';
import 'features/order/data/repositories/product_repository_impl.dart';
import 'features/order/domain/repositories/order_repository.dart';
import 'features/order/domain/repositories/product_repository.dart';
import 'features/order/domain/usecases/create_order.dart';
import 'features/order/domain/usecases/load_product.dart';
import 'features/order/presentation/bloc/order_bloc.dart';
import 'features/settings/data/repositories/account_repository_impl.dart';
import 'features/settings/domain/repositories/account_repository.dart';
import 'features/settings/domain/usecases/delete_account.dart';
import 'features/settings/domain/usecases/update_account.dart';
import 'features/settings/domain/usecases/update_password.dart';
import 'features/settings/domain/usecases/update_profile.dart';
import 'features/settings/presentation/bloc/settings_bloc.dart';
import 'firebase_options.dart';
import 'package:get_it/get_it.dart';

import 'my_bloc_observer.dart';

part 'init_dependencies.main.dart';
